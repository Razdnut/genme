name: VibeGuard Code Quality

on: [push, pull_request]

jobs:
  vibe-check:
    runs-on: ubuntu-latest
    permissions:
      contents: read
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 50  # Required for git history audit
      
      - name: Run VibeGuard Auditor
        uses: fabriziosalmi/vibe-check@v1.0.0
        with:
          threshold: 800
          brutal_mode: false
      - name: Post Score
        run: |
          echo "Code Quality Score: ${{ steps.vibeguard.outputs.score }}/1000"    
